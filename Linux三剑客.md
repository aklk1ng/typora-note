## bash

* bash是一个命令处理器，运行在文本窗口中，并能执行用户直接输入的命令
* bash还可以从文件中读取linux命令，称之为脚本
* bash支持通配符，管道，命令替换，条件判断等逻辑控制语句

### bash的特性

* 命令行展开

    ``` bash
    echo linux{1..100}#此时会打印linux·，linux2...linux100
    echo linux{1..100..2}#此时会打印linux1.linux3...linux100
    ```

* 命令别名

    ``` bash
    alias 命令别名=‘已存在的命令’
    ```

* 命令历史

    ``` bash
    histroy	#显示输入过的所有命令
    !行号	#
    !!	#上一次命令
    ```

* 快捷键

    ``` bash
    ctrl+a	#移动到行首
    ctrl+e	#移动到行尾
    ctrl+u	#删除光标之前的字符
    ctrl+k	#删除光标之后的字符
    ctrl+l	#清空屏幕终端内容，同于clear
    ```

* 命令补全

    ``` bash
    tab键	#补全$path中存在的命令
    ```

* 文件路径补全

### Linux正则表达式

**由一类特殊字符及文本字符所编写的模式，其中有些字符不表示其字面意义，而是用于表示控制或通配的功能**

``` bash
1.基本正则表达式：BRE
^$.[]*
2.扩展正则表达式：ERE
(){}?+|等字符
```

* 正则表达式是一套规则和方法
* 正则表达式以单位进行，一次处理一行
* 正则表达式化繁为简，提高工作效率
* linux仅受三剑客（sed，awk，grep）支持，其他命令无法使用

**通配符是大部分普通命令都支持的，用于查找文件或目录，而正则表达式是通过三剑客命令在文件中过滤内容的**

#### Linux三剑客

文本处理工具，均支持正则表达式引擎

* grep：文本过滤工具
* sed：流编辑器
* awk：文本报告生成器（格式化文本），Linux上是gawk

#### 基本正则表达式BRE集合

* 匹配字符

* 匹配次数

* 位置锚定

    | 符号   | 作用                                                         |
    | ------ | ------------------------------------------------------------ |
    | ^      | 用于模式的最左端，如“^abc”，匹配以abc单词开头的行            |
    | $      | 用于模式的最右端，如“abc$”，匹配以abc单词结尾的行            |
    | ^$     | 组合符，表示空行                                             |
    | .      | 匹配任何一个且只有一个字符，不能匹配空行                     |
    | \      | 转义字符，让特殊含义的字符还原本意                           |
    | *      | 匹配前一个字符（连续出现）0次或1次以上，重复0次代表空，即匹配所有内容 |
    | .*     | 组合符，匹配所有内容                                         |
    | ^.*    | 组合符，匹配任意多个字符的内容                               |
    | .*$    | 组合符，匹配任意多个字符开头的内容                           |
    | [abd]  | 匹配[]集合内的任意一个字符                                   |
    | [^abc] | 匹配除了^后面的任意字符                                      |

#### 扩展正则表达式ERE集合

**扩展正则表达式必须用`grep -E`才能生效**

| 字符   | 作用                                 |
| ------ | ------------------------------------ |
| +      | 匹配前一个字符1次或多次              |
| [:/]+  | 匹配括号内的“：”或者“\”字符1次或多次 |
| ?      | 匹配前一个字符0次或1次               |
| \      | 表示或者，同时过滤多个字符串         |
| ()     | 分组过滤，被括起来的内容表示一个整体 |
| a{n,m} | 匹配前一个字符至少n次，至多m次       |
| a{n,}  | 匹配前一个字符至少n次                |
| a{n}   | 匹配前一个字符正好n次                |
| a{,m}  | 匹配前一个字符至多m次                |

### grep

文本搜索工具，根据用户指定的模式对目标文件逐行进行匹配检查，打印匹配到的行

``` bash
语法：
grep [options] [pattern] file
命令	参数		 匹配模式	文件数据
	 -i:忽略字符的大小写
	 -o:仅显示匹配到的字符串本身
	 -v:显示不能匹配到的行
	 -E:支持使用扩展的正则表达式元字符
	 -q:不输出信息
	 -=color=auto:为过滤结果添加颜色
	 -w:只匹配过滤的单词
	 -n:显示匹配行与行号
	 -c:只统计匹配的行数
```

### sed

sed是操作，过滤和转换文本内容的强大工具

工作原理：

**1.使用sed命令对文本进行处理的时候，sed先读取对象的文本文件的第一行到模式空间中**

**2.当有内容进入模式空间中，sed的编辑命令对模式空间中的内容进行编辑操作**

**3.模式空间中的内容编辑处理完成之后，sed把此内容通过标准输出（默认为显示器）打印出来，并删除模式空间中的内容**

**4.第一行处理结束，从新读取的内容进行处理，直到最后一行**

语法：

``` bash
sed [选项] [sed内置命令字符] [输入文件]
```

选项：

| 参数选项 | 解释                                                         |
| -------- | ------------------------------------------------------------ |
| -n       | 取消默认sed的输出，常与sed内置命令p一起使用                  |
| -i       | 直接将修改结果写入文件，不用-i，sed修改的是内存数据，无法对文件中的内容进行修改 |
| -e       | 多次编辑，不需要管道符了                                     |
| -r       | 支持正则扩展                                                 |

内置命令字符：

| sed的内置命令字符 | 解释                                                      |
| ----------------- | --------------------------------------------------------- |
| a                 | append，对文本追加，在指定行后面添加一行/多行文本         |
| d                 | delete，删除匹配行                                        |
| i                 | insert，插入文本，在指定行前添加一行/多行文本             |
| p                 | print，打印匹配到的内容，通常与p与-n一起用                |
| s/正则/替换内容/g | 匹配正则内容，然后替换内容（支持正则），结尾g代表全局匹配 |

sed匹配范围：

| 范围        | 解释                                                     |
| ----------- | -------------------------------------------------------- |
| 空地址      | 全文处理                                                 |
| 单地址      | 指定文件某一行                                           |
| `/pattern/` | 被模式匹配到的每一行                                     |
| 范围区间    | 10，20  十到二十行,10,+5第10行向下5行                    |
| 步长        | `1~2，表示1，3，5，7，9行`,`2~2两个步长，表示2，4，6，8` |
